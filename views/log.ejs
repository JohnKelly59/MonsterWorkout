<%- include("partials/header.ejs") -%>
<link href="/styles.css" rel="stylesheet" />

<body class=" text-center text-light bgs">
    <div class="newLogData">
      <div clas="form-box p-5 mb-4 bg-dark rounded-3">
<h2>Log</h2>

<button class="newLogBtn btn btn-lg btn-light" id="newLogBtn" onclick="openForm()">New Log</button>
<div class="newLog">
    <div class="form-popup bg-dark" id="myForm">
        <form action="/addLog" method="post" class="form-container">
            <h2 class="h3 mb-3 fw-normal">Add Log</h2>
        
            <div class="form-floating">
              <input
                name="newLogTitle"
                type="text"
               placeholder="Title"
                id="floatingInput"
              />
              
            </div>
            <div class="form-floating">
              <textarea
                name="newLogBody"
                type="text"
                id="floatingPassword"
                placeholder="Body"
               rows="5" cols="50"
              ></textarea>
         
            </div>
           
            <button class=" btn btn-lg btn-danger" type="submit">Save</button>
            <button type="button" class="closeLogBtn btn btn-lg btn-light" onclick="closeForm()">Cancel</button>
          </div>
        </form>
      </div>
      <div class="newLog">
        <div class="form-popup bg-dark" id="myEditForm">
            <form action="/editLog" method="post" class="form-container">
                <h2 class="h3 mb-3 fw-normal">Edit Log</h2>
            
                <div class="form-floating">
                  <input
                    name="newLogTitle"
                    type="text"
                   placeholder="Title"
                    id="floatingInput"
                  />
                  
                </div>
                <div class="form-floating">
                  <textarea
                    name="newLogBody"
                    type="text"
                    id="floatingPassword"
                    placeholder="Body"
                   rows="5" cols="50"
                  ></textarea>
             
                </div>
               
                <button class=" btn btn-lg btn-danger" type="submit">Save</button>
                <button type="button" class="closeLogBtn btn btn-lg btn-light" onclick="closeEditForm()">Cancel</button>
              </div>
            </form>
          </div>
<div class="container-fluid data">
    <div class="row cw">
      <% if (logs[0][0] == null){ %>
      <h2>No results</h2>
      <% }else{ %> <% for(var i = 0; i < logs[0].length; i++){ %>
      <div class >
        <div
          id="cards"
          class="card text-center text-dark bg-danger "
          style=
        >
          <div class=" card-header">
            <h2><%= logs[0][i].title %></h2>
          </div>
          <div class="card-body">
            <h4 class="card-title"><%= logs[0][i].body %></h4>
            <h6 class="card-title"><%= logs[0][i].date %></h6>
            
            <button value= "<%= logs[0][i].id %>"" class="btn btn-outline-dark" onclick="openEditForm()" name="editBtn">Edit</button>
            <form action="/removeLog" method="post">
                <button type="submit" value= "<%= logs[0][i].id %>"" class="btn btn-outline-dark" name="removeBtn">Remove</button>
                </form>
          </div>
        </div>
        <br />
      </div>
     
      <% } %>  <% } %>
    </div>
  </div>
  
</div>

  <script>
    function openForm() {
      document.getElementById("myForm").style.display = "block";
      document.getElementById("newLogBtn").style.display = "none";

    }
    
    function closeForm() {
      document.getElementById("myForm").style.display = "none";
      document.getElementById("newLogBtn").style.display = "block";
    }

    function openEditForm() {
      document.getElementById("myEditForm").style.display = "block";
    }

    function closeEditForm() {
      document.getElementById("myEditForm").style.display = "none";
    }

    </script>

</body>
</html>

